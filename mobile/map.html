<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>ì‹œê³µì  ì§€ë„</title>
  <link rel="stylesheet" href="/css/layout.css">
  <link rel="stylesheet" href="/mobile/css/mobile.css">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="/js/supabaseclient.js"></script>
  <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=YOUR_KAKAO_APP_KEY&autoload=false"></script>
</head>
<body>
  <!-- ê³µí†µ í—¤ë” -->
  <div id="header"></div>
  
  <!-- ê³µí†µ Drawer -->
  <div id="drawer-container"></div>
  
  <script>
    Promise.all([
      fetch("/components/header.html").then(r => r.text()),
      fetch("/components/drawer.html").then(r => r.text())
    ]).then(([header, drawer]) => {
      document.getElementById("header").innerHTML = header;
      document.getElementById("drawer-container").innerHTML = drawer;
      
      // ë ˆì´ì•„ì›ƒ JS ë¡œë“œ
      const script = document.createElement("script");
      script.src = "/js/layout.js";
      script.onload = () => {
        if (window.updatePageTitle) {
          window.updatePageTitle('ì‹œê³µì  ì§€ë„');
        }
        if (window.initLayout) {
          window.initLayout();
        }
      };
      document.body.appendChild(script);
    });
  </script>

  <!-- ì»¨í…ì¸  -->
  <div class="m-content" style="padding-top: 48px;">
    <div id="map" style="width:100%;height:calc(100vh - 48px - 60px);"></div>
  </div>

  <!-- í•˜ë‹¨ íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
  <div class="m-bottom-nav">
    <div class="m-bottom-nav-item" data-page="status">
      <div class="m-bottom-nav-icon">ğŸ“‹</div>
      <div class="m-bottom-nav-label">ì ‘ìˆ˜í˜„í™©</div>
    </div>
    <div class="m-bottom-nav-item" data-page="receive">
      <div class="m-bottom-nav-icon">â•</div>
      <div class="m-bottom-nav-label">ì ‘ìˆ˜</div>
    </div>
    <div class="m-bottom-nav-item active" data-page="map">
      <div class="m-bottom-nav-icon">ğŸ“</div>
      <div class="m-bottom-nav-label">ì§€ë„</div>
    </div>
    <div class="m-bottom-nav-item" data-page="message">
      <div class="m-bottom-nav-icon">ğŸ’¬</div>
      <div class="m-bottom-nav-label">ë©”ì‹œì§€</div>
    </div>
    <div class="m-bottom-nav-item" data-page="more">
      <div class="m-bottom-nav-icon">â‹¯</div>
      <div class="m-bottom-nav-label">ë”ë³´ê¸°</div>
    </div>
  </div>

  <script src="/mobile/js/map.js"></script>
</body>
</html>

